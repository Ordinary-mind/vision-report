/* empty css             *//* empty css                     *//* empty css                  */import{a as v}from"./index-0ced5520.js";import{c as y}from"./index-74bd6ac0.js";import{I as w,a as h,r as i,d as x,e as N,t as V,h as k,f as e,w as o,A as E,m as b,p as d,J as B,j as C,x as I,v as R}from"./index-763031f0.js";const z={class:"login-form"},q={class:"title"},J=w({__name:"index",setup(F){const n=h(),u=i(),a=i({userName:"",password:""}),_={userName:{required:!0,message:"用户名不能为空"},password:{required:!0,message:"密码不能为空"}},c=()=>{u.value.validate(async p=>{if(p){const[s,t]=await v.login(a.value);s||(localStorage.setItem("token",t.token),B.success("登录成功"),n.push("/"))}})},f=()=>{console.log(1293),n.push("/register")};return(p,s)=>{const t=C,l=I,m=R,g=E;return b(),x("div",z,[N("p",q,V(k(y).appName),1),e(g,{"label-position":"top",model:a.value,rules:_,ref_key:"formRef",ref:u,style:{width:"100%"}},{default:o(()=>[e(l,{label:"用户名",prop:"userName"},{default:o(()=>[e(t,{size:"large",modelValue:a.value.userName,"onUpdate:modelValue":s[0]||(s[0]=r=>a.value.userName=r),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),e(l,{label:"密码",prop:"password"},{default:o(()=>[e(t,{type:"password",size:"large",modelValue:a.value.password,"onUpdate:modelValue":s[1]||(s[1]=r=>a.value.password=r),placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),e(l,null,{default:o(()=>[e(m,{type:"primary",size:"large",class:"full-width",style:{"margin-top":"32px"},onClick:c},{default:o(()=>[d("登录")]),_:1})]),_:1}),e(l,null,{default:o(()=>[e(m,{type:"primary",link:"",onClick:f},{default:o(()=>[d("注册")]),_:1})]),_:1})]),_:1},8,["model"])])}}});export{J as default};
