/* empty css             */import{g as C}from"./index-a1f63668.js";/* empty css                     */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                  */import{c as y}from"./index-3f586a6a.js";import{I as x,a as E,r as T,b as V,o as $,d as I,e as i,f as o,h as u,w as a,T as B,j as D,v as M,U as q,m as z,p as r,V as O,J as W,W as Y}from"./index-c8e104d5.js";const L={class:"search-form"},N={class:"search-form-item"},R=i("span",null,"关键词",-1),j={class:"search-form-item"},A={class:"search-form-item"},X=x({name:"reportList",__name:"index",setup(H){const d=y.reportList,h=E(),f=T(y.reportList),p=V({query:{keyword:""}}),g=t=>{const e=`/visionReport/${t.id}`;h.push(e)},b=t=>{const e=`/preview/${t.id}`;window.open(e)},m=()=>{f.value=d.filter(t=>{const{keyword:e}=p.query;return!e||t.name.includes(e)})},w=t=>{O.confirm(`是否确定删除报表【${t.name}】？`,"警告").then(()=>{const e=d.findIndex(c=>c.id===t.id);console.log(e),d.splice(e,1),m(),W.success("删除成功")}).catch(()=>{})},k=()=>{const t=B().format("YYYY-MM-DD HH:mm:ss"),e={id:C(),name:"未命名",createdOn:t,updatedOn:t,data:'{"name":"sheet2","freeze":"A1","styles":[{"bgcolor":"#e7e5e6"},{"bgcolor":"#e7e5e6","border":{"bottom":["thin","#000"],"top":["thin","#000"],"left":["thin","#000"],"right":["thin","#000"]}},{"border":{"bottom":["thin","#000"],"top":["thin","#000"],"left":["thin","#000"],"right":["thin","#000"]}}],"merges":[],"rows":{"0":{"cells":{"0":{},"1":{},"2":{}}},"1":{"cells":{"0":{"dataset":"address","field":"name","groupType":"group","dynamicWidth":true},"1":{"dataset":"address","field":"email","groupType":"no","dynamicWidth":true},"2":{"dataset":"address","field":"address","groupType":"group","dynamicWidth":true}}},"len":100},"cols":{"len":26},"validations":[],"autofilter":{}}',datasetId:""};d.unshift(e),h.push(`/visionReport/${e.id}`)};return $(()=>{m()}),(t,e)=>{const c=D,n=M,s=Y,v=q;return z(),I("div",null,[i("div",L,[i("div",N,[R,o(c,{modelValue:u(p).query.keyword,"onUpdate:modelValue":e[0]||(e[0]=l=>u(p).query.keyword=l),placeholder:"请输入关键词搜索...",clearable:"",style:{width:"200px"}},null,8,["modelValue"])]),i("div",j,[o(n,{type:"primary",onClick:m},{default:a(()=>[r("查询")]),_:1})]),i("div",A,[o(n,{type:"primary",onClick:k},{default:a(()=>[r("新建报表")]),_:1})])]),o(v,{data:u(f),stripe:""},{default:a(()=>[o(s,{type:"index",label:"序号",width:"60"}),o(s,{prop:"name",label:"报表名称"}),o(s,{prop:"createdOn",label:"创建时间"}),o(s,{prop:"updatedOn",label:"修改时间"}),o(s,{label:"操作",width:"150"},{default:a(l=>[o(n,{link:"",type:"primary",size:"small",onClick:_=>g(l.row)},{default:a(()=>[r("编辑")]),_:2},1032,["onClick"]),o(n,{link:"",type:"primary",size:"small",onClick:_=>b(l.row)},{default:a(()=>[r("预览")]),_:2},1032,["onClick"]),o(n,{link:"",type:"danger",size:"small",onClick:_=>w(l.row)},{default:a(()=>[r("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])}}});export{X as default};
